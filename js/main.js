function del(e){e.parentNode.remove()}var wraper=document.getElementById("body"),i=0;wraper.addEventListener("dblclick",function(e){function t(e){o.style.top=e.clientY-n.top+"px",o.style.left=e.clientX-n.left+"px",o.offsetLeft>wraper.offsetWidth-o.offsetWidth&&(o.style.left=wraper.offsetWidth-o.offsetWidth+"px"),o.offsetTop>wraper.offsetHeight-o.offsetHeight&&(o.style.top=wraper.offsetHeight-o.offsetHeight+"px")}var o=document.createElement("li");o.innerHTML='<div class="content"><p>Bla</p></div> <div class="close" onclick="del(this)"></div>',i++,o.id=i,o.classList.add("item"),document.getElementById("body").appendChild(o),o.style.top=e.clientY-document.getElementById("body").offsetTop+15+"px",o.style.left=e.clientX-document.getElementById("body").offsetLeft-20+"px";var n=wraper.getBoundingClientRect();o.offsetLeft>wraper.offsetWidth-o.offsetWidth&&(o.style.left=wraper.offsetWidth-o.offsetWidth+"px"),o.offsetTop>wraper.offsetHeight-o.offsetHeight&&(o.style.top=wraper.offsetHeight-o.offsetHeight+"px"),o.ondragstart=function(){return!1},o.onmousedown=function(e){wraper.onmousemove=function(e){t(e)},o.onmouseup=function(e){o.style.cursor="default",o.onmouseup=null,wraper.onmousemove=null}}}),document.getElementById("body").addEventListener("click",function(e){e.target.parentNode.parentNode&&!e.target.parentNode.parentNode.classList.contains("active")?e.target.parentNode.parentNode.classList.add("active"):e.target.parentNode.parentNode&&e.target.parentNode.parentNode.classList.remove("active")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZGVsIiwiZWwiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwid3JhcGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJtb3ZlTW91c2UiLCJuZXdJdGVtX2xpIiwic3R5bGUiLCJ0b3AiLCJjbGllbnRZIiwiY2xSZWN0IiwibGVmdCIsImNsaWVudFgiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRUb3AiLCJvZmZzZXRIZWlnaHQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm9uZHJhZ3N0YXJ0Iiwib25tb3VzZWRvd24iLCJlIiwib25tb3VzZW1vdmUiLCJvbm1vdXNldXAiLCJjdXJzb3IiLCJ0YXJnZXQiLCJjb250YWlucyJdLCJtYXBwaW5ncyI6IkFBc0VBLFFBQVNBLEtBQUlDLEdBQ1RBLEVBQUdDLFdBQVdDLFNBdkVsQixHQUFJQyxRQUFTQyxTQUFTQyxlQUFlLFFBQ2pDQyxFQUFJLENBRVJILFFBQU9JLGlCQUFpQixXQUFZLFNBQVVDLEdBdUIxQyxRQUFTQyxHQUFVRCxHQUVmRSxFQUFXQyxNQUFNQyxJQUFNSixFQUFNSyxRQUFVQyxFQUFPRixJQUFNLEtBQ3BERixFQUFXQyxNQUFNSSxLQUFPUCxFQUFNUSxRQUFVRixFQUFPQyxLQUFPLEtBRWxETCxFQUFXTyxXQUFhZCxPQUFPZSxZQUFjUixFQUFXUSxjQUN4RFIsRUFBV0MsTUFBTUksS0FBT1osT0FBT2UsWUFBY1IsRUFBV1EsWUFBYyxNQUV0RVIsRUFBV1MsVUFBWWhCLE9BQU9pQixhQUFlVixFQUFXVSxlQUN4RFYsRUFBV0MsTUFBTUMsSUFBTVQsT0FBT2lCLGFBQWVWLEVBQVdVLGFBQWUsTUEvQi9FLEdBQUlWLEdBQWFOLFNBQVNpQixjQUFjLEtBQ3hDWCxHQUFXWSxVQUFZLHNGQUN2QmhCLElBQ0FJLEVBQVdhLEdBQUtqQixFQUNoQkksRUFBV2MsVUFBVUMsSUFBSSxRQUN6QnJCLFNBQVNDLGVBQWUsUUFBUXFCLFlBQVloQixHQUU1Q0EsRUFBV0MsTUFBTUMsSUFBTUosRUFBTUssUUFBVVQsU0FBU0MsZUFBZSxRQUFRYyxVQUFZLEdBQUssS0FDeEZULEVBQVdDLE1BQU1JLEtBQU9QLEVBQU1RLFFBQVVaLFNBQVNDLGVBQWUsUUFBUVksV0FBYSxHQUFLLElBRTFGLElBQUlILEdBQVNYLE9BQU93Qix1QkFFaEJqQixHQUFXTyxXQUFhZCxPQUFPZSxZQUFjUixFQUFXUSxjQUN4RFIsRUFBV0MsTUFBTUksS0FBT1osT0FBT2UsWUFBY1IsRUFBV1EsWUFBYyxNQUV0RVIsRUFBV1MsVUFBWWhCLE9BQU9pQixhQUFlVixFQUFXVSxlQUN4RFYsRUFBV0MsTUFBTUMsSUFBTVQsT0FBT2lCLGFBQWVWLEVBQVdVLGFBQWUsTUFtQjNFVixFQUFXa0IsWUFBYyxXQUNyQixPQUFPLEdBRVhsQixFQUFXbUIsWUFBYyxTQUFVQyxHQUUvQjNCLE9BQU80QixZQUFjLFNBQVVELEdBQzNCckIsRUFBVXFCLElBR2RwQixFQUFXc0IsVUFBWSxTQUFVRixHQUM3QnBCLEVBQVdDLE1BQU1zQixPQUFTLFVBQzFCdkIsRUFBV3NCLFVBQVksS0FDdkI3QixPQUFPNEIsWUFBYyxTQU9qQzNCLFNBQVNDLGVBQWUsUUFBUUUsaUJBQWlCLFFBQVMsU0FBVUMsR0FDM0RBLEVBQU0wQixPQUFPakMsV0FBV0EsYUFBaUJPLEVBQU0wQixPQUFPakMsV0FBV0EsV0FBV3VCLFVBQVVXLFNBQVMsVUFDaEczQixFQUFNMEIsT0FBT2pDLFdBQVdBLFdBQVd1QixVQUFVQyxJQUFJLFVBRzdDakIsRUFBTTBCLE9BQU9qQyxXQUFXQSxZQUN4Qk8sRUFBTTBCLE9BQU9qQyxXQUFXQSxXQUFXdUIsVUFBVXRCLE9BQU8iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB3cmFwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvZHlcIiksXG4gICAgaSA9IDA7XG5cbndyYXBlci5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIG5ld0l0ZW1fbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgbmV3SXRlbV9saS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImNvbnRlbnRcIj48cD5CbGE8L3A+PC9kaXY+IDxkaXYgY2xhc3M9XCJjbG9zZVwiIG9uY2xpY2s9XCJkZWwodGhpcylcIj48L2Rpdj4nO1xuICAgIGkrKztcbiAgICBuZXdJdGVtX2xpLmlkID0gaTtcbiAgICBuZXdJdGVtX2xpLmNsYXNzTGlzdC5hZGQoJ2l0ZW0nKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvZHlcIikuYXBwZW5kQ2hpbGQobmV3SXRlbV9saSk7XG5cbiAgICBuZXdJdGVtX2xpLnN0eWxlLnRvcCA9IGV2ZW50LmNsaWVudFkgLSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvZHlcIikub2Zmc2V0VG9wICsgMTUgKyBcInB4XCI7XG4gICAgbmV3SXRlbV9saS5zdHlsZS5sZWZ0ID0gZXZlbnQuY2xpZW50WCAtIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9keVwiKS5vZmZzZXRMZWZ0IC0gMjAgKyBcInB4XCI7XG5cbiAgICB2YXIgY2xSZWN0ID0gd3JhcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgXG4gICAgaWYgKG5ld0l0ZW1fbGkub2Zmc2V0TGVmdCA+IHdyYXBlci5vZmZzZXRXaWR0aCAtIG5ld0l0ZW1fbGkub2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgbmV3SXRlbV9saS5zdHlsZS5sZWZ0ID0gd3JhcGVyLm9mZnNldFdpZHRoIC0gbmV3SXRlbV9saS5vZmZzZXRXaWR0aCArICdweCdcbiAgICB9XG4gICAgaWYgKG5ld0l0ZW1fbGkub2Zmc2V0VG9wID4gd3JhcGVyLm9mZnNldEhlaWdodCAtIG5ld0l0ZW1fbGkub2Zmc2V0SGVpZ2h0KSB7XG4gICAgICAgIG5ld0l0ZW1fbGkuc3R5bGUudG9wID0gd3JhcGVyLm9mZnNldEhlaWdodCAtIG5ld0l0ZW1fbGkub2Zmc2V0SGVpZ2h0ICsgJ3B4J1xuICAgIH1cblxuXG4gICBcblxuICAgIGZ1bmN0aW9uIG1vdmVNb3VzZShldmVudCkge1xuXG4gICAgICAgIG5ld0l0ZW1fbGkuc3R5bGUudG9wID0gZXZlbnQuY2xpZW50WSAtIGNsUmVjdC50b3AgKyAncHgnO1xuICAgICAgICBuZXdJdGVtX2xpLnN0eWxlLmxlZnQgPSBldmVudC5jbGllbnRYIC0gY2xSZWN0LmxlZnQgKyAncHgnO1xuXG4gICAgICAgIGlmIChuZXdJdGVtX2xpLm9mZnNldExlZnQgPiB3cmFwZXIub2Zmc2V0V2lkdGggLSBuZXdJdGVtX2xpLm9mZnNldFdpZHRoKSB7XG4gICAgICAgICAgICBuZXdJdGVtX2xpLnN0eWxlLmxlZnQgPSB3cmFwZXIub2Zmc2V0V2lkdGggLSBuZXdJdGVtX2xpLm9mZnNldFdpZHRoICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SXRlbV9saS5vZmZzZXRUb3AgPiB3cmFwZXIub2Zmc2V0SGVpZ2h0IC0gbmV3SXRlbV9saS5vZmZzZXRIZWlnaHQpIHtcbiAgICAgICAgICAgIG5ld0l0ZW1fbGkuc3R5bGUudG9wID0gd3JhcGVyLm9mZnNldEhlaWdodCAtIG5ld0l0ZW1fbGkub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5ld0l0ZW1fbGkub25kcmFnc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgbmV3SXRlbV9saS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgd3JhcGVyLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIG1vdmVNb3VzZShlKVxuICAgICAgICB9XG5cbiAgICAgICAgbmV3SXRlbV9saS5vbm1vdXNldXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgbmV3SXRlbV9saS5zdHlsZS5jdXJzb3IgPSAnZGVmYXVsdCdcbiAgICAgICAgICAgIG5ld0l0ZW1fbGkub25tb3VzZXVwID0gbnVsbFxuICAgICAgICAgICAgd3JhcGVyLm9ubW91c2Vtb3ZlID0gbnVsbFxuICAgICAgICB9XG5cblxuICAgIH1cbn0pXG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9keVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKChldmVudC50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlKSAmJiAoIWV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkpIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG59KVxuXG5mdW5jdGlvbiBkZWwoZWwpIHtcbiAgICBlbC5wYXJlbnROb2RlLnJlbW92ZSgpO1xufVxuXG4iXX0=
